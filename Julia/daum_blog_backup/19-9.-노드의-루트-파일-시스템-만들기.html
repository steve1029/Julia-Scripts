
<meta charset="utf-8">
<html lang="ko">
<head>
    <link rel="stylesheet" type="text/css" href="./../style.css" />
    <title>9. 노드의 루트 파일 시스템 만들기</title>
</head>
<body id="tt-body-page" class="">
<div id="wrap" class="wrap-right">
    <div id="container">
        <main class="main ">
            <div class="area-main">
                <div class="area-view">
                    <div class="article-header">
                        <div class="inner-article-header">
                            <div class="box-meta">
                                <h2 class="title-article">9. 노드의 루트 파일 시스템 만들기</h2>
                                <div class="box-info">
                                    <p class="category">리눅스/데비안 서버 구축</p>
                                    <p class="date">2016-09-25 22:57:45</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <hr>
                    <div class="article-view">
                        <div class="contents_style">
                            <p><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 10pt;">8번에서 노드의 루트 파일을 어떻게 관리할지 결정하였다. 이제 그 결정대로 준비해보자.</span><br><br><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 10pt;">노드의 루트 파일 시스템은 /nfsroot 폴더에 따로 모아둘 것이다. 이를 위해선 두 가지의 패키지가 필요하다.</span><br><br><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 10pt;">(1) debootstrap 설치</span><br></p><p><br></p><p style="margin-left: 2em;"><span style="color: rgb(191, 219, 232); line-height: 107%; font-family: Dotum; font-size: 10pt;"># aptitude
–y install debootstrap&nbsp;</span><br></p><p style="margin-left: 2em;"><span style="text-indent: -18pt; font-size: 9pt;"><br></span></p><p><span style="color: rgb(191, 219, 232); text-indent: -18pt; font-family: Dotum; font-size: 10pt;">(2) debootstrap</span><span style="color: rgb(191, 219, 232); text-indent: -18pt; font-family: Dotum; font-size: 10pt;">으로</span><span style="color: rgb(191, 219, 232); text-indent: -18pt; font-family: Dotum; font-size: 10pt;"> /nfsroot </span><span style="color: rgb(191, 219, 232); text-indent: -18pt; font-family: Dotum; font-size: 10pt;">디렉토리에</span><span style="color: rgb(191, 219, 232); text-indent: -18pt; font-family: Dotum; font-size: 10pt;"> </span><span style="color: rgb(191, 219, 232); text-indent: -18pt; font-family: Dotum; font-size: 10pt;">노드의</span><span style="color: rgb(191, 219, 232); text-indent: -18pt; font-family: Dotum; font-size: 10pt;"> </span><span style="color: rgb(191, 219, 232); text-indent: -18pt; font-family: Dotum; font-size: 10pt;">루트파일시스템</span><span style="color: rgb(191, 219, 232); text-indent: -18pt; font-family: Dotum; font-size: 10pt;">
</span><span style="color: rgb(191, 219, 232); text-indent: -18pt; font-family: Dotum; font-size: 10pt;">설치</span></p><p><span style="font-size: 9pt;"><br></span></p><p style="margin-left: 2em;"><span style="color: rgb(191, 219, 232); font-size: 9pt;">stable 버전은 다음 명령어를 입력</span></p><p style="margin-left: 2em;"><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 10pt;"># debootstrap --arch amd64 stable</span><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 10pt;">&nbsp;/nfsroot/stretch-9.2.1-default http://ftp.kr.debian.org/debian</span><span class="MsoFootnoteReference" style="font-size: 9pt;"><span class="MsoFootnoteReference"></span></span></p><p style="margin-left: 2em;"><span style="color: rgb(255, 255, 255); font-family: Dotum; font-size: 10pt;"><br></span></p><p style="margin-left: 2em;"><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 10pt;">testing 버전은 다음 명령어를 입력</span></p><p style="margin-left: 2em;"><font color="#ffffff"><span style="color: rgb(191, 219, 232); font-size: 13.33px;"># debootstrap --arch amd64 testing &nbsp;/nfsroot/&lt;version&gt; http://ftp.kr.debian.org/debian &nbsp;</span></font><br></p><p style="margin-left: 2em;"><span style="color: rgb(255, 255, 255); font-family: Dotum; font-size: 10pt;"><br></span></p><p style="margin-left: 2em;"><font color="#ffffff"><span style="color: rgb(191, 219, 232); font-size: 13.33px;">만약 우분투 서버를 설치중이라면 다음을 입력한다.</span></font></p><p style="margin-left: 2em;"><font color="#ffffff"><span style="color: rgb(191, 219, 232); font-size: 13.33px;">일단 코드네임부터 확인하자</span></font></p><p style="margin-left: 2em;"><font color="#ffffff"><span style="font-size: 13.33px;"><br></span></font></p><p style="margin-left: 2em;"><font color="#ffffff"><span style="color: rgb(191, 219, 232); font-size: 13.33px;"># lsb_release -c</span></font></p><p style="margin-left: 2em;"><font color="#ffffff"><span style="color: rgb(191, 219, 232); font-size: 13.33px;">Codename: xenial</span></font></p><p style="margin-left: 2em;"><font color="#ffffff"><span style="font-size: 13.33px;"><br></span></font></p><p style="margin-left: 2em;"><font color="#ffffff"><span style="color: rgb(191, 219, 232); font-size: 13.33px;">서버에 설치된 우분투의 코드네임이 xenial 이므로, 노드도 같은 것을 설치해주는것이 좋겠지.</span></font></p><p style="margin-left: 2em;"><font color="#ffffff"><span style="font-size: 13.33px;"><br></span></font></p><p style="margin-left: 2em;"></p><p style="margin-left: 2em;"><font color="#ffffff"><span style="color: rgb(191, 219, 232); font-size: 13.33px;"># debootstrap --arch amd64 xenial /nfsroot/y101 http://archive.ubuntu.com/ubuntu</span></font></p><p style="margin-left: 2em;"><br></p><p style="margin-left: 2em;">y101 에 들어갈 기본적인 root file system 이 갖춰졌다. y102, y103,... 에 대해서는</p><p style="margin-left: 2em;">rsync 라는 앱을 이용하여 한 번에 만들것이므로, y101 만 일단 잘 만들자.</p><p style="margin-left: 2em;"><br></p><p style="margin-left: 2em;"><font color="#ffffff"><span style="color: rgb(191, 219, 232); font-size: 13.33px;">이 명령어에 대해선 다음 사이트를 참조.</span></font></p><p style="margin-left: 2em;"><font color="#ffffff"><span style="font-size: 13.33px;"><br></span></font></p><p style="margin-left: 2em;"><font color="#ffffff"><span style="color: rgb(191, 219, 232); font-size: 13.33px;"><a href="http://www.thegeekstuff.com/2010/01/debootstrap-minimal-debian-ubuntu-installation/" target="_blank">http://www.thegeekstuff.com/2010/01/debootstrap-minimal-debian-ubuntu-installation/</a></span></font></p><p style="margin-left: 2em;"><font color="#ffffff"><span style="color: rgb(191, 219, 232); font-size: 13.33px;"><br></span></font></p><pre style="padding: 13px; border: 1px solid rgb(221, 221, 221); border-image: none; color: rgb(17, 17, 17); overflow: auto; clear: both; font-family: Consolas, Monaco, Menlo, Courier, Verdana, sans-serif; font-size: 13px; margin-top: 0px; margin-bottom: 26px; -ms-word-wrap: normal; background-color: rgb(238, 238, 238); tab-size: 4;"><span style="color: rgb(0, 0, 0);">$ debootstrap --arch $ARCH $RELEASE  $DIR $MIRROR</span></pre><p style="color: rgb(17, 17, 17); font-family: Georgia, &quot;Times New Roman&quot;, Times, serif; font-size: 16px; margin-bottom: 26px; -ms-word-wrap: break-word; background-color: rgb(255, 255, 255);"><span style="color: rgb(0, 0, 0);">In the above debootstrap syntax,</span></p><ul style="margin: 0px 0px 26px 26px; padding: 0px; color: rgb(17, 17, 17); font-family: Georgia, &quot;Times New Roman&quot;, Times, serif; font-size: 16px; list-style-type: square; -ms-word-wrap: break-word; background-color: rgb(255, 255, 255);"><li style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;"><span style="color: rgb(0, 0, 0);">$ARCH is whatever architecture you’re using (i386, amd64, sparc, etc.),</span></li><li style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;"><span style="color: rgb(0, 0, 0);">$RELEASE is the Ubuntu release you want to use such as edgy, gutsy, or hardy,</span></li><li style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;"><span style="color: rgb(0, 0, 0);">$DIR is the directory that you’ll be bootstrapping to and</span></li><li style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;"><span style="color: rgb(0, 0, 0);">$MIRROR should be http://archive.ubuntu.com/ubuntu.</span></li><li style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;"><span style="color: rgb(0, 0, 0);">Use a different $MIRROR and different $RELEASE if you’re bootstrapping a Debian system.</span></li></ul><p><span style="color: rgb(191, 219, 232); text-indent: -18pt; font-family: Dotum; font-size: 10pt;">(3) chroot</span><span style="color: rgb(191, 219, 232); text-indent: -18pt; font-family: Dotum; font-size: 10pt;">로</span><span style="color: rgb(191, 219, 232); text-indent: -18pt; font-family: Dotum; font-size: 10pt;">
</span><span style="color: rgb(191, 219, 232); text-indent: -18pt; font-family: Dotum; font-size: 10pt;">노드</span><span style="color: rgb(191, 219, 232); text-indent: -18pt; font-family: Dotum; font-size: 10pt;"> </span><span style="color: rgb(191, 219, 232); text-indent: -18pt; font-family: Dotum; font-size: 10pt;">루트파일시스템에</span><span style="color: rgb(191, 219, 232); text-indent: -18pt; font-family: Dotum; font-size: 10pt;"> </span><span style="color: rgb(191, 219, 232); text-indent: -18pt; font-family: Dotum; font-size: 10pt;">패키지</span><span style="color: rgb(191, 219, 232); text-indent: -18pt; font-family: Dotum; font-size: 10pt;">
</span><span style="color: rgb(191, 219, 232); text-indent: -18pt; font-family: Dotum; font-size: 10pt;">설치</span><span style="color: rgb(191, 219, 232); text-indent: -18pt; font-family: Dotum; font-size: 10pt;"> </span><span style="color: rgb(191, 219, 232); text-indent: -18pt; font-family: Dotum; font-size: 10pt;">및</span><span style="color: rgb(191, 219, 232); text-indent: -18pt; font-family: Dotum; font-size: 10pt;"> </span><span style="color: rgb(191, 219, 232); text-indent: -18pt; font-family: Dotum; font-size: 10pt;">삭제</span></p><p><span style="color: rgb(255, 255, 255); text-indent: -18pt; font-family: Dotum; font-size: 10pt;"><br></span></p><p style="text-indent: -24px; margin-left: 4em;"><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 10pt;">chroot 란 change root 의 약자로, 현재 리눅스 시스템의 루트파일 시스템을 /nfsroot/y101 에 설치된 루트파일 시스템으로 </span><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 10pt;">교체하는 명령어이다. 새로운 시스템으로 바뀌는 것. 그래서 노드에서 일일히 접속하여 /nfsroot/y101 을 건드릴 필요 없이, </span><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 10pt;">서버에서 노드의 루트파일에 온갖 패키지 설치 삭제 및 설정 변경을 해줄 수 있다. 이 때 커널을 서버의 커널을 쓰기 때문에, 노드는 반드시 서버와 커널이 같아야 한다는 것을 알 수 있다.</span></p><p style="text-indent: -24px; margin-left: 4em;"><span style="font-size: 9pt;"><br></span></p><p style="text-indent: -24px; margin-left: 4em;"><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 10pt;"># chroot /nfsroot/y101 aptitude
install &lt;</span><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 10pt;">패키지</span><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 10pt;">
</span><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 10pt;">이름</span><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 10pt;">&gt;</span></p><p style="text-indent: -24px; margin-left: 4em;"><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 10pt;"># chroot /nfsroot/y101 aptitude
purge &lt;</span><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 10pt;">패키지</span><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 10pt;">
</span><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 10pt;">이름</span><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 10pt;">&gt;</span></p><p style="text-indent: -24px; margin-left: 4em;"><br></p><p style="text-indent: -24px; margin-left: 4em;"><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 10pt;">chroot 환경을 이용하기 전,&nbsp;노드에도 다양한 패키지&nbsp;설치가 가능하도록 패키지 저장소 목록을 추가해주는 것이 좋다.</span></p><p style="text-indent: -24px; margin-left: 4em;"><br></p><p style="line-height: 170%; margin-left: 2em; -ms-word-break: keep-all;"><span><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 10pt;"># vi
/nfsroot/y101/etc/apt/sources.list</span></span></p><p style="line-height: 170%; margin-left: 2em; -ms-word-break: keep-all;"><span><br></span></p><p style="line-height: 170%; margin-left: 2em; -ms-word-break: keep-all;"><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 10pt;">여기에 다음의 내용을 추가해준다.</span></p><p style="line-height: 170%; margin-left: 2em; -ms-word-break: keep-all;"><br></p><hr style="border-width: 1px 0px 0px; border-style: solid none none; border-color: black; border-image: none; height: 1px; display: block;"><p style="line-height: 170%; margin-left: 2em; -ms-word-break: keep-all;"><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 10pt;">deb http://ftp.us.debian.org/debian/ stable</span><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 10pt;">&nbsp;main non-free contrib</span></p><p style="line-height: 170%; margin-left: 2em; -ms-word-break: keep-all;"><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 10pt;">deb-src http://ftp://kr.debian.org/debian/ stable main non-free contrib</span><br></p><p style="line-height: 170%; margin-left: 2em; -ms-word-break: keep-all;"><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 10pt;">deb http://security.debian.org/ stable/updates main</span><br></p><p style="line-height: 170%; margin-left: 2em; -ms-word-break: keep-all;"><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 10pt;">deb-src http://security.debian.org/ stable/updates main</span></p><p style="line-height: 170%; margin-left: 2em; -ms-word-break: keep-all;"><br></p><hr style="border-width: 1px 0px 0px; border-style: solid none none; border-color: black; border-image: none; height: 1px; display: block;"><p style="line-height: 170%; margin-left: 2em; -ms-word-break: keep-all;"><span style="color: rgb(191, 219, 232);">우분투 서버를 설치 중이라면, 다음 방법을 쓰는 것도 괜찮다.</span></p><p style="line-height: 170%; margin-left: 2em; -ms-word-break: keep-all;"><span style="color: rgb(191, 219, 232);"># cp /etc/apt/sources.list /nfsroot/y205/etc/apt/source.list</span></p><p style="line-height: 170%; margin-left: 2em; -ms-word-break: keep-all;"><span style="font-size: 9pt;"><span style="color: rgb(255, 255, 255); font-family: Dotum; font-size: 10pt;"><br></span></span></p><p style="line-height: 170%; margin-left: 2em; -ms-word-break: keep-all;"><font color="#ffffff"><span style="color: rgb(191, 219, 232); font-size: 13.33px;">우분투 서버 버전은 sources.list 파일을 수정할 필요가 없으므로</span></font></p><p style="line-height: 170%; margin-left: 2em; -ms-word-break: keep-all;"><font color="#ffffff"><span style="color: rgb(191, 219, 232); font-size: 13.33px;">그대로 노드의 sources.list 로 써도 된다.</span></font></p><p style="line-height: 170%; margin-left: 2em; -ms-word-break: keep-all;"><span style="font-size: 9pt;"><span style="color: rgb(255, 255, 255); font-family: Dotum; font-size: 10pt;"><br></span></span></p><p style="line-height: 170%; margin-left: 2em; -ms-word-break: keep-all;"><span style="font-size: 9pt;"><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 10pt;">그리고 chroot 환경에 들어가기 위한 준비를 하자.</span></span></p><p style="line-height: 170%; margin-left: 2em; -ms-word-break: keep-all;"><span style="font-size: 9pt;"><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 10pt;">현재 작동 중인 시스템에는 proc 과 devpts 라는 장치가 마운트 되어 있다.</span></span></p><p style="line-height: 170%; margin-left: 2em; -ms-word-break: keep-all;"><span style="font-size: 9pt;"><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 10pt;">이는 process 와 /dev/pts 의 약자이다. </span></span><span style="font-size: 9pt;"><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 10pt;">proc 은 /proc 에 마운트 되는 가상 장치이며,</span></span></p><p style="line-height: 170%; margin-left: 2em; -ms-word-break: keep-all;"><span style="font-size: 9pt;"><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 10pt;">devpts 는 /dev/pts 에 마운트 되는 가상장치이다.</span></span></p><p style="line-height: 170%; margin-left: 2em; -ms-word-break: keep-all;"><span style="font-size: 9pt;"><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 10pt;"><br></span></span></p><p style="line-height: 170%; margin-left: 2em; -ms-word-break: keep-all;"><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 10pt;">이 두가지가 마운트 되어 있어야지만 시스템으로서 정상작동한다. </span></p><p style="line-height: 170%; margin-left: 2em; -ms-word-break: keep-all;"><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 10pt;">노드의 루트 파일 시스템으로&nbsp;</span><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 10pt;">작동하려면 현재 시스템의 proc 과 devpts는</span></p><p style="line-height: 170%; margin-left: 2em; -ms-word-break: keep-all;"><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 10pt;">노드 루트파일시스템의 /proc 과 /dev/pts 에 마운트 되어야 할 것이다.</span></p><p style="line-height: 170%; margin-left: 2em; -ms-word-break: keep-all;"><span style="color: rgb(255, 255, 255); font-size: 9pt;"><br></span></p><p style="line-height: 170%; margin-left: 2em; -ms-word-break: keep-all;"><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 10pt;">chroot 명령어는 자주 사용하게 될 것이므로, 노드의 /proc과 /dev/pts 에 proc과 devpts 가 자동으로 항상 마운트 되도록 설정하자.</span></p><p style="line-height: 170%; margin-left: 2em; -ms-word-break: keep-all;"><br></p><p style="line-height: 170%; margin-left: 2em; -ms-word-break: keep-all;">yroot 에서 다음을 실행하자.</p><p style="line-height: 170%; margin-left: 2em; -ms-word-break: keep-all;"><br></p><p style="line-height: 170%; margin-left: 4em; -ms-word-break: keep-all;"><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 10pt;">#vi /etc/fstab</span></p><p style="line-height: 170%; margin-left: 2em; -ms-word-break: keep-all;"><br></p><p style="line-height: 170%; margin-left: 2em; -ms-word-break: keep-all;"><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 10pt;">다음의 내용을 추가해준다. </span></p><p style="line-height: 170%; margin-left: 2em; -ms-word-break: keep-all;"><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 10pt;"><br></span></p><p style="line-height: 170%; margin-left: 2em; -ms-word-break: keep-all;"><span style="color: rgb(255, 228, 0); font-family: Dotum; font-size: 10pt;"><strong>이 때, fstab 에 원래 있던 내용들은 절대로 건드리면 안된다. </strong></span></p><p style="line-height: 170%; margin-left: 2em; -ms-word-break: keep-all;"><strong><span style="color: rgb(255, 228, 0); font-family: Dotum; font-size: 10pt;">하드를 /, /nfsroot/, /tftpboot/, /home 등에 어떻게 마운트 시키는지에 대한 정보가 들어 있으므로 </span></strong><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 10pt;"><span style="color: rgb(255, 228, 0);"><strong>내용을 절대로 바꾸지 말자. 171122 에 이 것 때문에 데비안 재설치하는 참사가 일어남.</strong></span></span></p><p style="line-height: 170%; margin-left: 2em; -ms-word-break: keep-all;"><br></p><hr style="border-width: 1px 0px 0px; border-style: solid none none; border-color: black; border-image: none; height: 1px; display: block;"><p style="line-height: 170%; margin-left: 2em; -ms-word-break: keep-all;"><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 10pt;">none &nbsp; &nbsp;</span><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 10pt;">/nfsroot/y101/proc &nbsp; &nbsp;</span><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 10pt;">proc &nbsp; &nbsp;</span><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 10pt;">defaults,nosuid,nodev &nbsp; &nbsp;</span><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 10pt;">0 &nbsp; &nbsp;</span><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 10pt;">0</span><br></p><p style="margin-left: 2em;"><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 10pt;">

</span><span style="color: rgb(191, 219, 232); line-height: 107%; font-family: Dotum; font-size: 10pt;">devpts &nbsp; &nbsp; /nfsroot/y101/dev/pts &nbsp; &nbsp;devpts &nbsp; &nbsp;defaults,nosuid,noexec &nbsp; &nbsp;0 &nbsp; &nbsp;0</span><br></p><div><hr style="border-width: 1px 0px 0px; border-style: solid none none; border-color: black; border-image: none; height: 1px; display: block;"><p style="margin-left: 2em;"><font face="Times New Roman, serif"><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 10pt;">이 때 띄어쓰기 간격은 tab 이다. shell script 의 간격은 항상 띄어쓰기 혹은 탭으로 구별한다.</span></font></p><p style="margin-left: 2em;"><font color="#ffffff"><span style="font-size: 13.33px;"><br></span></font></p><p style="margin-left: 2em;"><font color="#ffffff"><span style="color: rgb(191, 219, 232); font-size: 13.33px;">모든 노드에 대해 위 내용을 다 적어주어야 한다. fstab 의 내용이 매우 많아진다.</span></font></p><p style="margin-left: 2em;"><font color="#ffffff"><span style="font-size: 13.33px;"><br></span></font></p><p style="margin-left: 2em;"><font color="#ffffff"><span style="color: rgb(191, 219, 232); font-size: 13.33px;">fstab 의 모든 내용을 한 번에 적용시키는 방법은 다음과 같다.</span></font></p><p style="margin-left: 2em;"><font color="#ffffff"><span style="font-size: 13.33px;"><br></span></font></p><p style="margin-left: 2em;"><font color="#ffffff"><span style="font-size: 13.33px;"><span style="color: rgb(191, 219, 232);"># mount -a</span><br></span></font><br></p><p style="margin-left: 2em;"><font face="Times New Roman, serif"><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 10pt;">이제 간단한 명령어 만으로도 chroot 환경을 사용할 수 있게 되었다.</span></font></p><p style="margin-left: 2em;"><font face="Times New Roman, serif"><br></font></p><p style="margin-left: 2em;"><font face="Times New Roman, serif"><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 10pt;"># mount /nfsroot/y101/proc</span></font></p><p style="margin-left: 2em;"><font face="Times New Roman, serif"><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 10pt;"># mount /nfsroot/y101/dev/pts</span></font></p><p style="margin-left: 2em;"><font face="Times New Roman, serif"><br></font></p><p style="margin-left: 2em;"><font face="Times New Roman, serif"><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 10pt;">chroot 환경으로 들어가기 전 위 두 명령어를 꼭 실행해주도록 하자.</span></font></p><p style="margin-left: 2em;"><font face="Times New Roman, serif"><br></font></p><p style="line-height: 170%; margin-left: 2em; -ms-word-break: keep-all;"><font color="#ffffff"><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 10pt;">원래의 proc 과 devpts 는 서버의 /proc과 /dev/pts에 마운트 되어 있을 것이지만,</span></font></p><p style="line-height: 170%; margin-left: 2em; -ms-word-break: keep-all;"><font color="#ffffff"><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 10pt;"><br></span></font></p><p style="line-height: 170%; margin-left: 2em; -ms-word-break: keep-all;"><font color="#ffffff"><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 10pt;">위와 같이 바꿔주면 chroot해도 되는 것이다.</span></font></p><p style="line-height: 170%; margin-left: 2em; -ms-word-break: keep-all;"><font color="#ffffff"><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 10pt;"><br></span></font></p><p style="line-height: 170%; margin-left: 2em; -ms-word-break: keep-all;"><font color="#ffffff"><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 10pt;">이제 </span></font><font color="#ffffff"><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 10pt;">현재 프로세스 및 장치에 대한 정보들은</span></font></p><p style="line-height: 170%; margin-left: 2em; -ms-word-break: keep-all;"><font color="#ffffff"><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 10pt;"><br></span></font></p><p style="line-height: 170%; margin-left: 2em; -ms-word-break: keep-all;"><font color="#ffffff"><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 10pt;">모두 노드의 /proc 과 /dev/pts 폴더에 기록될 것이다.</span></font></p><p style="line-height: 170%; margin-left: 2em; -ms-word-break: keep-all;"><span style="font-size: 9pt;"><span style="color: rgb(255, 255, 255);"><br></span></span></p><p style="line-height: 170%; margin-left: 2em; -ms-word-break: keep-all;"><font color="#ffffff"><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 10pt;">이제 chroot 환경으로 들어가보자.</span></font></p><p style="line-height: 170%; margin-left: 2em; -ms-word-break: keep-all;"></p><p style="line-height: 170%; margin-left: 2em; -ms-word-break: keep-all;"><span style="font-size: 9pt;"><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 10pt;"># chroot /nfsroot/y101 aptitude update</span><br></span></p><p style="line-height: 170%; margin-left: 2em; -ms-word-break: keep-all;"><span style="font-size: 9pt;"><span style="color: rgb(255, 255, 255);"><br></span></span></p><p style="line-height: 170%; margin-left: 2em; -ms-word-break: keep-all;"><span style="font-size: 9pt;"><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 10pt;">빠져나오려면 # exit 나 ctrl + d 를 하면 된다. ctrl + d 는 쉘에서 프로세스 중지를 뜻하는 단축키이다.</span></span></p></div><p><br></p>
                        </div>
                        <br/>
                        <div class="tags">
                            
                        </div>
                    </div>
                    
                </div>
            </div>
        </main>
    </div>
</div>
</body>
</html>

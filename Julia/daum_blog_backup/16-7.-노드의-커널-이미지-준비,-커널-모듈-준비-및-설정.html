
<meta charset="utf-8">
<html lang="ko">
<head>
    <link rel="stylesheet" type="text/css" href="./../style.css" />
    <title>7. 노드의 커널 이미지 준비, 커널 모듈 준비 및 설정</title>
</head>
<body id="tt-body-page" class="">
<div id="wrap" class="wrap-right">
    <div id="container">
        <main class="main ">
            <div class="area-main">
                <div class="area-view">
                    <div class="article-header">
                        <div class="inner-article-header">
                            <div class="box-meta">
                                <h2 class="title-article">7. 노드의 커널 이미지 준비, 커널 모듈 준비 및 설정</h2>
                                <div class="box-info">
                                    <p class="category">리눅스/데비안 서버 구축</p>
                                    <p class="date">2016-09-25 22:11:48</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <hr>
                    <div class="article-view">
                        <div class="contents_style">
                            <p><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 9pt;">앞의 6 번에서, 커널 이미지와 커널 모듈을 불러오는 방법을 설정했다.&nbsp;</span></p><p><br></p><p><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 9pt;">그리고 부트로더인 pxelinux.0를 /tftpboot 안에 저장하고 설정 파일까지 준비 했다.</span></p><p><br></p><p><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 9pt;">이제 tftp 전송의 대상이 되는 커널 이미지와 모듈을 준비할 차례이다.</span><br></p><p><br></p><p><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 9pt;">노드의 커널 이미지는 서버의 커널과 버전이 같아도 되고 달라도 된다.</span></p><p><br></p><p><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 9pt;">그러나 서로 버전이 같은 경우가 편리한 경우가 많으므로 서버의 커널 버전과 같은 것을 쓰도록 하자.</span></p><p><br></p><p><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 9pt;">서로 동일한 버전의 커널일 경우 gpu 드라이버나 OpenMPI 등을 설정할 때 편리하다.</span></p><p><br></p><p><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 9pt;">커널의 이미지는 6번에서 언급했다시피 ramfs 형식의 파일이다.</span></p><p><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 9pt;"><br></span></p><p><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 9pt;"><strong><span style="color: rgb(255, 187, 0); font-size: 12pt;">착각하지 말것 : 노드의 커널/커널 모듈이 서버의 커널/커널 모듈과 반드시 같아야할 이유는 없다. </span></strong></span><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 9pt;"><strong><span style="color: rgb(255, 187, 0); font-size: 12pt;">서버는 debian 9 이더라도 노드의 커널/커널 모듈을 debian 8 으로 맞춰주면 노드의 부팅 과정에서 </span></strong></span><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 9pt;"><strong><span style="color: rgb(255, 187, 0); font-size: 12pt;">debian 8 로 잘 구동된다. 한 마디로, 서버를 업데이트하다가 서버의 커널과 커널 모듈이 업데이트 된다고 한들, 노드가 잘 부팅되기만 한다면 절대로 기존 노드의 커널/커널 모듈을 건드리지 말자!</span></strong></span></p><p><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 9pt;"><strong><span style="color: rgb(255, 187, 0); font-size: 12pt;"><br></span></strong></span></p><p><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 9pt;"><strong><span style="color: rgb(255, 187, 0); font-size: 12pt;">Debian 은 oldstable 을 제외하고는 패키지를 업그레이드하면 커널의 이미지 버전이 업그레이드 될 수 있다. 따라서 처음 서버를 구축하고 난 뒤에는 절대로 업그레이드 하지말자. 업그레이드가 정말로 필요한 앱만 업그레이드 하도록 한다. Anaconda python 을 쓰면 pip 이나 conda 로 업그레이드하면 되니 웬만해서는 업그레이드 할 이유가 없다.</span></strong></span></p><p><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 9pt;"><br></span></p><p><br></p><p><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 9pt;">(1) 노드에 사용할 커널 이미지 파일 확보</span></p><p style="margin-left: 2em;"><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 9pt;">서버의 커널은 /boot 에 있다. 커널의 버전을 우선 확인해보자.</span></p><p style="margin-left: 2em;"><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 9pt;"># uname -r</span></p><p style="margin-left: 2em;"><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 9pt;">3.16.0_4_amd64</span><br></p><p style="margin-left: 2em;"><span style="font-size: 9pt;"><br></span></p><p style="margin-left: 2em;"><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 9pt;">버전을 확인했으니 커널 파일을 /tftpboot 파일로 옮긴다.</span></p><p style="margin-left: 2em;"><span style="color: rgb(191, 219, 232); line-height: 107%; font-family: Dotum; font-size: 9pt;">#
cp /boot/vmlinuz-3.16.0-4-amd64 /tftpboot/vmlinuz.node&nbsp;</span><br></p><p style="margin-left: 2em;"><span style='line-height: 107%; font-family: "Times New Roman",serif; font-size: 10pt; mso-fareast-font-family: 바탕; mso-ansi-language: EN-US; mso-fareast-language: KO; mso-bidi-language: AR-SA;'><br></span></p><p><span style="color: rgb(191, 219, 232); line-height: 107%; font-family: Dotum; font-size: 9pt;">(2) 커널 모듈 확보</span></p><p><span style="font-family: 바탕, serif; font-size: 9pt;"><br></span></p><p style="margin-left: 2em;"><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 9pt;">커널</span><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 9pt;">
</span><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 9pt;">모듈은</span><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 9pt;"> </span><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 9pt;">/etc/initramfs-tools
</span><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 9pt;">디렉토리에</span><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 9pt;"> </span><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 9pt;">있다</span><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 9pt;">.</span></p><p style="margin-left: 2em;"><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 9pt;"># cp –r /etc/initramfs-tools
/tftpboot/initramfs-pxe</span></p><p style="margin-left: 2em;"><span style="font-family: Dotum; font-size: 9pt;"><br></span></p><p style="margin-left: 2em;"><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 9pt;">커널</span><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 9pt;">
</span><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 9pt;">이미지와는</span><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 9pt;"> </span><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 9pt;">달리</span><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 9pt;">, </span><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 9pt;">커널</span><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 9pt;"> </span><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 9pt;">모듈은</span><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 9pt;">
</span><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 9pt;">네트워크</span><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 9pt;"> </span><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 9pt;">부팅</span><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 9pt;"> </span><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 9pt;">설정이</span><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 9pt;">
</span><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 9pt;">필요하다</span><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 9pt;">. </span><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 9pt;">설정</span><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 9pt;"> </span><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 9pt;">파일인</span><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 9pt;"> </span><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 9pt;">initramfs.conf </span><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 9pt;">파일을</span><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 9pt;"> </span><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 9pt;">수정하도록</span><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 9pt;"> </span><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 9pt;">하자</span><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 9pt;">.</span></p><p style="margin-left: 2em;"><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 9pt;"># vi
/tftpboot/initramfs-pxe/initramfs.conf</span></p><p style="margin-left: 2em;"><span style="color: rgb(191, 219, 232); line-height: 107%; font-family: Dotum; font-size: 9pt;">다음의 해당 사항을 찾아 바꾸거나, 없으면 새로 입력한다.</span></p><p style="margin-left: 2em;"><br></p><hr style="border-width: 1px 0px 0px; border-style: solid none none; border-color: black; border-image: none; height: 1px; display: block;"><p><span style="line-height: 107%; font-family: Dotum; font-size: 10pt;"><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 10pt;">MODULES=netboot</span><br></span></p><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 10pt;">

</span><p style="line-height: 170%; -ms-word-break: keep-all; mso-pagination: widow-orphan;"><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 10pt;">BOOT=nfs</span></p><p style="line-height: 170%; -ms-word-break: keep-all; mso-pagination: widow-orphan;"><span style="color: rgb(191, 219, 232); font-size: 10pt;">NFSROOT=192.168.100.1:/nfsroot</span><br></p><p style="line-height: 170%; -ms-word-break: keep-all; mso-pagination: widow-orphan;"><span style="color: rgb(0, 216, 255); font-size: 10pt;"><br></span></p><p style="line-height: 170%; -ms-word-break: keep-all; mso-pagination: widow-orphan;"><font color="#00d8ff"><span style="color: rgb(191, 219, 232); font-size: 13.33px;">데비안 jessie 까지는 다음 구문이 필요할 수도 있다</span></font></p><p style="line-height: 170%; -ms-word-break: keep-all; mso-pagination: widow-orphan;"><font color="#00d8ff"><span style="color: rgb(191, 219, 232); font-size: 13.33px;">DEVICE=eth0</span></font></p><p style="line-height: 170%; -ms-word-break: keep-all; mso-pagination: widow-orphan;"><font color="#00d8ff"><span style="font-size: 13.33px;"><br></span></font></p><p style="line-height: 170%; -ms-word-break: keep-all; mso-pagination: widow-orphan;"><font color="#00d8ff"><span style="color: rgb(191, 219, 232); font-size: 13.33px;">이 구문은 데비안 jessie 이후로는 이더넷 장비 명칭이 달라져서 필요없게 되었다.</span></font></p><div><hr style='border-width: 1px 0px 0px; border-style: solid none none; border-color: black; height: 1px; font-family: "Times New Roman", serif; font-size: 13.33px; display: block;'><p style='font-family: "Times New Roman", serif; font-size: 13.33px; margin-left: 2em;'><br></p><p style='font-family: "Times New Roman", serif; font-size: 13.33px; margin-left: 2em;'><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 10pt;">여기선 하나의 예만 들었는데, 사실 커널 모듈도 노드의 개수만큼 있어야 하므로</span></p><p style='font-family: "Times New Roman", serif; font-size: 13.33px; margin-left: 2em;'><span style="color: rgb(255, 255, 255); font-family: Dotum; font-size: 10pt;"><br></span></p><p style="margin-left: 2em;"><font color="#ffffff"><span style="color: rgb(191, 219, 232); font-size: 13.33px;">initramfs-pxe.gpunode/y101</span></font></p><p style="margin-left: 2em;"><span style="color: rgb(191, 219, 232); font-size: 13.33px;">initramfs-pxe.gpunode/y102</span><font color="#ffffff"><span style="font-size: 13.33px;"><br></span></font></p><p style="margin-left: 2em;"><span style="color: rgb(191, 219, 232); font-size: 13.33px;">initramfs-pxe.gpunode/</span><span style="color: rgb(191, 219, 232); font-size: 13.33px;">y103 ...</span><span style="color: rgb(255, 255, 255); font-size: 13.33px;"><br></span></p><p style="margin-left: 2em;"><span style="color: rgb(255, 255, 255); font-size: 13.33px;"><br></span></p><p style="margin-left: 2em;"><font color="#ffffff"><span style="color: rgb(191, 219, 232); font-size: 13.33px;">이렇게 여러개 만드는 것이 좋다.</span></font></p><p style='font-family: "Times New Roman", serif; font-size: 13.33px; margin-left: 2em;'><span style="color: rgb(255, 255, 255); font-family: Dotum; font-size: 10pt;"><br></span></p><p style='font-family: "Times New Roman", serif; font-size: 13.33px;'><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 10pt;">(3) initrd 이미지 생성</span></p><p style='font-family: "Times New Roman", serif; font-size: 13.33px; margin-left: 2em;'><br></p><p style='font-family: "Times New Roman", serif; font-size: 13.33px; margin-left: 2em;'><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 10pt;">initrd 란 init ramdisk 의 약자로, 노드에 전송되자마자 램에 올라가서</span></p><p style='font-family: "Times New Roman", serif; font-size: 13.33px; margin-left: 2em;'><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 10pt;"><br></span></p><p style='font-family: "Times New Roman", serif; font-size: 13.33px; margin-left: 2em;'><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 10pt;">압축이 풀리는 파일 형식이다.</span></p><p style='font-family: "Times New Roman", serif; font-size: 13.33px; margin-left: 2em;'><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 10pt;"><br></span></p><p style='font-family: "Times New Roman", serif; font-size: 13.33px; margin-left: 2em;'><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 10pt;">커널 이미지를 그대로 보내는 것이 아니라 압축파일의 형식으로 전송하는 것이다.</span></p><p style='font-family: "Times New Roman", serif; font-size: 13.33px; margin-left: 2em;'><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 10pt;"><br></span></p><p style='font-family: "Times New Roman", serif; font-size: 13.33px; margin-left: 2em;'><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 10pt;">그래야지만' 폴더'를 전송하는게 아니라 '파일'을 전송하는게 되니까 그런 거겠지.</span></p><p style='font-family: "Times New Roman", serif; font-size: 13.33px; margin-left: 2em;'><span style="color: rgb(255, 255, 255); font-family: Dotum; font-size: 10pt;"><br></span></p><p style='font-family: "Times New Roman", serif; font-size: 13.33px; margin-left: 2em;'><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 10pt;">바로 위에서 설정한&nbsp;</span><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 13.33px;">initramfs-pxe는 폴더이다.</span></p><p style='font-family: "Times New Roman", serif; font-size: 13.33px; margin-left: 2em;'><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 13.33px;"><br></span></p><p style='font-family: "Times New Roman", serif; font-size: 13.33px; margin-left: 2em;'><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 13.33px;">이것을 램디스크에 올라가는 ramfs 형식으로 만들어줄 것이다.</span></p><br><p style="line-height: 170%; margin-left: 2.2em; -ms-word-break: keep-all;"><span><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 10pt;"># mkinitramfs –d /tftpboot/initramfs-pxe
–o /tftpboot/initrd.img ‘uname-</span><a><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 10pt;">r</span></a></span><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 10pt;">’</span></p><p style="line-height: 170%; margin-left: 2.2em; -ms-word-break: keep-all;"><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 10pt;"><br></span></p><p style="line-height: 170%; margin-left: 2.2em; -ms-word-break: keep-all;"><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 10pt;">커널 모듈을 커널의 버전에 맞추어서 램디스크 파일로 컴파일한다.</span></p><p style="line-height: 170%; margin-left: 2.2em; -ms-word-break: keep-all;"><span style="color: rgb(255, 255, 255); font-family: Dotum; font-size: 10pt;"><br></span></p><p style="line-height: 170%; -ms-word-break: keep-all;"><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 10pt;">(4) 권한 설정</span></p><p style="line-height: 170%; -ms-word-break: keep-all;"><span style="color: rgb(255, 255, 255); font-family: Dotum; font-size: 10pt;"><br></span></p><p style="line-height: 170%; margin-left: 2em; -ms-word-break: keep-all;"><strong><span style="color: rgb(255, 228, 0); font-family: Dotum; font-size: 10pt;"><span style="color: rgb(255, 187, 0); font-size: 9pt;"># chmod 755</span></span><span style="color: rgb(255, 228, 0); font-family: Dotum; font-size: 10pt;"><span style="color: rgb(255, 187, 0); font-size: 9pt;">&nbsp;/tftpboot</span></span></strong></p><p style="line-height: 170%; margin-left: 2em; -ms-word-break: keep-all;"><span style="color: rgb(255, 228, 0); font-family: Dotum; font-size: 10pt;"><span style="font-size: 9pt;"><strong><span style="color: rgb(255, 187, 0);"># chmod 644 /tftpboot/vmlinuz.*</span></strong></span></span></p><div><div class="msocomtxt" id="_com_1" language="JavaScript"><p style="text-indent: 1.75pt; -ms-word-break: keep-all;"><br></p><div style='background: url("//i1.daumcdn.net/deco/contents/horizontalrule/line06.gif?v=2") repeat-x left; width: 99%; height: 15px;'><hr style="border: 0px black; border-image: none; left: -9999px; top: -9999px; position: relative;"></div><p style="text-indent: 1.75pt; margin-left: 2em; -ms-word-break: keep-all;"><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 10pt;">참고사항</span></p><p style="text-indent: 1.75pt; margin-left: 2em; -ms-word-break: keep-all;"><br></p><p style="text-indent: 1.75pt; margin-left: 2.2em; -ms-word-break: keep-all;"><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 10pt;">오류 1 : ‘uname -r’ </span><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 10pt;">부분에서</span><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 10pt;"> </span><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 10pt;">오류가</span><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 10pt;"> </span><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 10pt;">발생할</span><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 10pt;">
</span><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 10pt;">시</span></p><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 10pt;">

</span><p style="text-indent: 1.75pt; margin-left: 6em; -ms-word-break: keep-all;"><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 10pt;"># uname -r </span></p><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 10pt;">

</span><p style="text-indent: 1.75pt; margin-left: 6em; -ms-word-break: keep-all;"><span style="color: rgb(191, 219, 232); text-indent: 1.75pt; font-family: Dotum; font-size: 10pt;">을</span><span style="color: rgb(191, 219, 232); text-indent: 1.75pt; font-family: Dotum; font-size: 10pt;"> </span><span style="color: rgb(191, 219, 232); text-indent: 1.75pt; font-family: Dotum; font-size: 10pt;">입력하여</span><span style="color: rgb(191, 219, 232); text-indent: 1.75pt; font-family: Dotum; font-size: 10pt;"> </span><span style="color: rgb(191, 219, 232); text-indent: 1.75pt; font-family: Dotum; font-size: 10pt;">출력되는</span><span style="color: rgb(191, 219, 232); text-indent: 1.75pt; font-family: Dotum; font-size: 10pt;">
</span><span style="color: rgb(191, 219, 232); text-indent: 1.75pt; font-family: Dotum; font-size: 10pt;">결과를</span><span style="color: rgb(191, 219, 232); text-indent: 1.75pt; font-family: Dotum; font-size: 10pt;"> </span><span style="color: rgb(191, 219, 232); text-indent: 1.75pt; font-family: Dotum; font-size: 10pt;">대신</span><span style="color: rgb(191, 219, 232); text-indent: 1.75pt; font-family: Dotum; font-size: 10pt;"> </span><span style="color: rgb(191, 219, 232); text-indent: 1.75pt; font-family: Dotum; font-size: 10pt;">입력하면</span><span class="MsoCommentReference" style="text-indent: 1.75pt; font-size: 9pt;"><span style="line-height: 107%; font-size: 9pt;"><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 10pt;">&nbsp;</span><a class="msocomoff" href="file:///E:/Clouds/Google%20Drive/%EC%97%B0%EA%B5%AC%EC%8B%A4%20%EC%BB%B4%ED%93%A8%ED%84%B0%20%EA%B5%AC%EC%B6%95%20%EC%9E%90%EB%A3%8C/%EB%A6%AC%EB%88%85%EC%8A%A4%20%EA%B4%80%EB%A0%A8/Diskless%20CPU_GPU%20heterogeneous%20cluster%20on%20Debian.docx#_msoanchor_1"><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 10pt;">[NK1]</span></a></span></span><span style="color: rgb(191, 219, 232); text-indent: 1.75pt; font-family: Dotum; font-size: 10pt;"> </span><span style="color: rgb(191, 219, 232); text-indent: 1.75pt; font-family: Dotum; font-size: 10pt;">된다</span><span style="color: rgb(191, 219, 232); text-indent: 1.75pt; font-family: Dotum; font-size: 10pt;">. </span><span style="color: rgb(191, 219, 232); text-indent: 1.75pt; font-family: Dotum; font-size: 10pt;">커널의</span><span style="color: rgb(191, 219, 232); text-indent: 1.75pt; font-family: Dotum; font-size: 10pt;"> </span><span style="color: rgb(191, 219, 232); text-indent: 1.75pt; font-family: Dotum; font-size: 10pt;">이름을</span><span style="color: rgb(191, 219, 232); text-indent: 1.75pt; font-family: Dotum; font-size: 10pt;">
</span><span style="color: rgb(191, 219, 232); text-indent: 1.75pt; font-family: Dotum; font-size: 10pt;">출력하는</span><span style="color: rgb(191, 219, 232); text-indent: 1.75pt; font-family: Dotum; font-size: 10pt;"> </span><span style="color: rgb(191, 219, 232); text-indent: 1.75pt; font-family: Dotum; font-size: 10pt;">명령이다</span><span style="color: rgb(191, 219, 232); text-indent: 1.75pt; font-family: Dotum; font-size: 10pt;">.</span></p><p style="text-indent: 1.75pt; margin-left: 38pt; -ms-word-break: keep-all; mso-pagination: widow-orphan;"><span style="color: rgb(255, 255, 255); text-indent: 1.75pt; font-family: Dotum; font-size: 10pt;"><br></span></p><p style="text-indent: 1.75pt; margin-left: 2.2em; -ms-word-break: keep-all;"><span style="text-indent: 1.75pt;"><font color="#ffffff"><span style="color: rgb(191, 219, 232); font-size: 13.33px;">오류 2 : mdadm: /etc/mdadm/mdadm.conf defines no arrays.</span></font><br></span></p><p style="text-indent: 1.75pt; margin-left: 6em; -ms-word-break: keep-all;"><span style="color: rgb(191, 219, 232);"># vi /etc/mdadm/mdadm.conf &nbsp;파일을 수정한다. 다음을 파일 맨 아랫줄에 추가 하자.</span></p><p style="text-indent: 1.75pt; margin-left: 6em; -ms-word-break: keep-all;"><br></p><p style="text-indent: 1.75pt; margin-left: 6em; -ms-word-break: keep-all;"><span style="color: rgb(191, 219, 232);">ARRAY &lt;ignore&gt; devices=/dev/sda</span><br></p><p style="text-indent: 1.75pt; margin-left: 6em; -ms-word-break: keep-all;"><br></p><p style="text-indent: 1.75pt; margin-left: 6em; -ms-word-break: keep-all;"><span style="color: rgb(191, 219, 232);">이제 잘 될 것.</span></p><div style='background: url("//i1.daumcdn.net/deco/contents/horizontalrule/line06.gif?v=2") repeat-x left; width: 99%; height: 15px;'></div><p style="text-indent: 1.75pt; -ms-word-break: keep-all;"><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 10pt;">최종적으로 /tftpboot 에 들어가 있어야 할 폴더 및 파일의 종류는 다음과 같다</span></p><p style="text-indent: 1.75pt; -ms-word-break: keep-all;"><br></p><p style="text-indent: 1.75pt; -ms-word-break: keep-all;"><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 10pt;">모든 노드가 공통적으로 사용하는 파일</span></p><p style="text-indent: 1.75pt; -ms-word-break: keep-all;"><br></p><p style="text-indent: 1.75pt; -ms-word-break: keep-all;"><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 10pt;">ldlinux.c32</span></p><p style="text-indent: 1.75pt; -ms-word-break: keep-all;"><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 10pt;">pxelinux.0</span></p><p style="text-indent: 1.75pt; -ms-word-break: keep-all;"><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 10pt;">ssh.keyscan.py</span></p><p style="text-indent: 1.75pt; -ms-word-break: keep-all;"><br></p><p style="text-indent: 1.75pt; -ms-word-break: keep-all;"><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 10pt;">각 노드마다</span></p><p style="text-indent: 1.75pt; -ms-word-break: keep-all;"><br></p><p style="text-indent: 1.75pt; -ms-word-break: keep-all;"><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 10pt;">config.pxelinux.y101</span></p><p style="text-indent: 1.75pt; -ms-word-break: keep-all;"><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 10pt;">initrd.img.y101</span></p><p style="text-indent: 1.75pt; -ms-word-break: keep-all;"><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 10pt;">vmlinuz.y101</span></p><p style="text-indent: 1.75pt; -ms-word-break: keep-all;"><span style="color: rgb(191, 219, 232); font-family: Dotum; font-size: 10pt;">initramfs-pxe.y101</span></p><p style="text-indent: 1.75pt; -ms-word-break: keep-all;"><span style="font-size: 9pt;"><br></span></p><div style='background: url("//i1.daumcdn.net/deco/contents/horizontalrule/line06.gif?v=2") repeat-x left; width: 99%; height: 15px;'><hr style="border: 0px black; border-image: none; left: -9999px; top: -9999px; position: relative;"></div><p style="text-indent: 1.75pt; -ms-word-break: keep-all;"><span style="color: rgb(191, 219, 232); text-indent: 2.33px; font-size: 13.33px;">ldlinux.c32 란?</span><span style="font-size: 9pt;"><br></span></p></div></div></div><p><br></p><p><span style="color: rgb(191, 219, 232); text-indent: 2.33px; font-size: 13.33px;">ssh.keyscan.py 란?</span></p><p style="margin-left: 2em;"><span style="color: rgb(255, 255, 255); text-indent: 2.33px; font-size: 13.33px;"><span style="color: rgb(191, 219, 232);">따로 설명을 하겠지만, 노드로 접속할 때 비번 인증 과정을 없애주는 파일이다. 비번 인증이 사라져야 mpi 가 가능하다.</span></span></p>
                        </div>
                        <br/>
                        <div class="tags">
                            
                        </div>
                    </div>
                    
                </div>
            </div>
        </main>
    </div>
</div>
</body>
</html>

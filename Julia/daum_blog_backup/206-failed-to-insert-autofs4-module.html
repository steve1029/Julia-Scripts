
<meta charset="utf-8">
<html lang="ko">
<head>
    <link rel="stylesheet" type="text/css" href="./../style.css" />
    <title>failed to insert autofs4 module</title>
</head>
<body id="tt-body-page" class="">
<div id="wrap" class="wrap-right">
    <div id="container">
        <main class="main ">
            <div class="area-main">
                <div class="area-view">
                    <div class="article-header">
                        <div class="inner-article-header">
                            <div class="box-meta">
                                <h2 class="title-article">failed to insert autofs4 module</h2>
                                <div class="box-info">
                                    <p class="category">리눅스/시행 착오 노트</p>
                                    <p class="date">2017-07-24 16:30:37</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <hr>
                    <div class="article-view">
                        <div class="contents_style">
                            <p>루트 파일 시스템과 리눅스 커널의 버전이 달라서 생기는 문제라고 한다.<br></p><p><br></p><p>커널을 새로 컴파일하면 된다고 한다.</p><p><br></p><p>/boot 에 보면 커널 config 파일인 config-[uname-r]-amd4 파일이 있다.</p><p><br></p><p>이 것이 커널을 컴파일할 떄 사용하는 설정 파일이다. 여기서</p><p><br></p><p>CONFIG_AUTOFS4_FS=m 을</p><p>CONFIG_AUTOFS4_FS=y 로 바꾸고 컴파일하면 해결된다고는 하는데<br></p><p><br></p><p>커널을 컴파일하기 위해 설치해야 되는것이 매우 많다. 그래서 아직 안해봄.</p><p><br></p><p><strike>이걸 설치하니까 된다.</strike></p><p><strike><br></strike></p><p><strike>#&nbsp;apt-get -y install sysvinit-core</strike></p><p><br></p><p>sysvinit-core 를 설치하면 sysvinit-sysv 가 지워진다. 그 대가로 journalctl 명령어가 더이상 먹히지 않는다.</p><p><br></p><p>또한 ssh 비번 없이 접속하는게 안된다. 따라서 하지 말 것.</p><p><br></p><p># journalctl | grep autofs4</p><p><br></p><p>이렇게 하면&nbsp;failed to insert autofs4 module 이라는 에러가 보이는데,</p><p><br></p><p>그 이유는&nbsp;https://bbs.archlinux.org/viewtopic.php?id=150419 여기에 잘 나와 잇음.</p><p><br></p><p>노드의 루트파일시스템에 커널 이미지와 커널 모듈이 하나도 없다!</p><p><br></p><p>즉 노드들이 자기 루트파일시스템을 rw 가 아닌 ro 로 읽고 있다는 뜻 같다.</p>
                        </div>
                        <br/>
                        <div class="tags">
                            
                        </div>
                    </div>
                    
                </div>
            </div>
        </main>
    </div>
</div>
</body>
</html>

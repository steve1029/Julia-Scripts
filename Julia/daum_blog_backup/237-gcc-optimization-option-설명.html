
<meta charset="utf-8">
<html lang="ko">
<head>
    <link rel="stylesheet" type="text/css" href="./../style.css" />
    <title>gcc optimization option 설명</title>
</head>
<body id="tt-body-page" class="">
<div id="wrap" class="wrap-right">
    <div id="container">
        <main class="main ">
            <div class="area-main">
                <div class="area-view">
                    <div class="article-header">
                        <div class="inner-article-header">
                            <div class="box-meta">
                                <h2 class="title-article">gcc optimization option 설명</h2>
                                <div class="box-info">
                                    <p class="category">컴퓨터 언어/C 언어</p>
                                    <p class="date">2018-07-04 17:06:25</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <hr>
                    <div class="article-view">
                        <div class="contents_style">
                            <p>출처: <a class="tx-link" target="_blank" href="https://wiki.kldp.org/wiki.php/GccOptimizationOptions&lt;br&gt;&lt;br&gt;gcc는">https://wiki.kldp.org/wiki.php/GccOptimizationOptions<br><br></a></p><hr style="display:block; border: black 0 none; border-top: black 1px solid; height: 1px"><p><a class="tx-link" target="_blank" href="https://wiki.kldp.org/wiki.php/GccOptimizationOptions&lt;br&gt;&lt;br&gt;gcc는">gcc는</a> 기본적으로 아무런 옵션을 지정하지 않으면, 만들어지는 코드를 최적화(optimization)시키지 않습니다. 최적화를 위해, 여러가지 옵션을 제공하는데 (아래 표 참고), 이들 옵션을 일일히 선택하기 보다는 이들 옵션을 세트로 묶어 제공하는 '-O', '-O1', '-O2', '-O3' 등을 일반적으로 씁니다. (참고로 '-O0'는 전혀 최적화하지 말라는, default 옵션입니다.)<br><br>'-O' 또는 '-O1'의 경우, 만들어지는 오브젝트, 또는 실행 파일을 가능한 작게 하면서, 컴파일 시간이 오래걸리지 않는 범위에서 최적화를 수행합니다.<br><br>'-O2'의 경우, 만들어지는 코드가 가능한 빠르게 수행되도록 하지만, 코드의 크기가 너무 커지지 않도록 하는 범위에서 최적화를 수행합니다.<br><br>'-Os'의 경우, '-O2'에서 제공하는 모든 최적화 기능을 다 쓰지만, 코드의 크기를 증가시키는 최적화 기능은 빼고 나서 최적화를 수행합니다.<br><br>'-O3'의 경우, 코드의 크기는 전혀 신경 쓰지 않고, 오직 빠른 코드를 만들어 내기 위해 최적화를 수행합니다. 그러나, 꼭 생각해 두어야 할 점은, '-O3'로 만들어낸 코드가 반드시 '-O2'를 써서 만들어낸 코드보다 빠르다는 보장은 없다는 것입니다. 왜냐하면, 보통 CPU가 기계어를 수행할 때, 일정한 분량만큼 먼저 CPU 내부의 cache(캐시)에 불러와서 수행하는데, '-O3'를 써서 만든 코드는 대개 크기가 커서, 이 cache에 들어갈 수 있는 명령의 양이 상대적으로 적어지기 때문에, 오히려 느려질 가능성도 있습니다.</p><hr style="display:block; border: black 0 none; border-top: black 1px solid; height: 1px"><p><span style="color: rgb(255, 187, 0); font-size: 14pt;"><b>Included in Level</b></span></p><p>Optimization<span style="white-space:pre">	</span>-O1<span style="white-space:pre">	</span>-O2<span style="white-space:pre">	</span>-Os<span style="white-space:pre">	</span>-O3</p><p>defer-pop<span style="white-space:pre">	</span>O<span style="white-space:pre">	</span>O<span style="white-space:pre">	</span>O<span style="white-space:pre">	</span>O</p><p>thread-jumps<span style="white-space:pre">	</span>O<span style="white-space:pre">	</span>O<span style="white-space:pre">	</span>O<span style="white-space:pre">	</span>O</p><p>branch-probabilities<span style="white-space:pre">	</span>O<span style="white-space:pre">	</span>O<span style="white-space:pre">	</span>O<span style="white-space:pre">	</span>O</p><p>cprop-registers<span style="white-space:pre">	</span>O<span style="white-space:pre">	</span>O<span style="white-space:pre">	</span>O<span style="white-space:pre">	</span>O</p><p>guess-branch-probability<span style="white-space:pre">	</span>O<span style="white-space:pre">	</span>O<span style="white-space:pre">	</span>O<span style="white-space:pre">	</span>O</p><p>omit-frame-pointer<span style="white-space:pre">	</span>O<span style="white-space:pre">	</span>O<span style="white-space:pre">	</span>O<span style="white-space:pre">	</span>O</p><p>merge-constants<span style="white-space:pre">	</span>O<span style="white-space:pre">	</span>O<span style="white-space:pre">	</span>O<span style="white-space:pre">	</span>O</p><p>loop-optimize<span style="white-space:pre">	</span>O<span style="white-space:pre">	</span>O<span style="white-space:pre">	</span>O<span style="white-space:pre">	</span>O</p><p>if-conversion<span style="white-space:pre">	</span>O<span style="white-space:pre">	</span>O<span style="white-space:pre">	</span>O<span style="white-space:pre">	</span>O</p><p>if-conversion2<span style="white-space:pre">	</span>O<span style="white-space:pre">	</span>O<span style="white-space:pre">	</span>O<span style="white-space:pre">	</span>O</p><p>align-loops<span style="white-space:pre">	</span>X<span style="white-space:pre">	</span>O<span style="white-space:pre">	</span>X<span style="white-space:pre">	</span>O</p><p>align-jumps<span style="white-space:pre">	</span>X<span style="white-space:pre">	</span>O<span style="white-space:pre">	</span>X<span style="white-space:pre">	</span>O</p><p>align-labels<span style="white-space:pre">	</span>X<span style="white-space:pre">	</span>O<span style="white-space:pre">	</span>X<span style="white-space:pre">	</span>O</p><p>align-functions<span style="white-space:pre">	</span>X<span style="white-space:pre">	</span>O<span style="white-space:pre">	</span>X<span style="white-space:pre">	</span>O</p><p>crossjumping<span style="white-space:pre">	</span>X<span style="white-space:pre">	</span>O<span style="white-space:pre">	</span>O<span style="white-space:pre">	</span>O</p><p>prefetch-loop-array<span style="white-space:pre">	</span>?<span style="white-space:pre">	</span>?<span style="white-space:pre">	</span>X<span style="white-space:pre">	</span>?</p><p>optimize-sibling-calls<span style="white-space:pre">	</span>X<span style="white-space:pre">	</span>O<span style="white-space:pre">	</span>O<span style="white-space:pre">	</span>O</p><p>cse-follow-jumps<span style="white-space:pre">	</span>X<span style="white-space:pre">	</span>O<span style="white-space:pre">	</span>O<span style="white-space:pre">	</span>O</p><p>cse-skip-blocks<span style="white-space:pre">	</span>X<span style="white-space:pre">	</span>O<span style="white-space:pre">	</span>O<span style="white-space:pre">	</span>O</p><p>gcse<span style="white-space:pre">	</span>X<span style="white-space:pre">	</span>O<span style="white-space:pre">	</span>O<span style="white-space:pre">	</span>O</p><p>gcse-lm<span style="white-space:pre">	</span>X<span style="white-space:pre">	</span>O<span style="white-space:pre">	</span>O<span style="white-space:pre">	</span>O</p><p>gcse-sm<span style="white-space:pre">	</span>X<span style="white-space:pre">	</span>O<span style="white-space:pre">	</span>O<span style="white-space:pre">	</span>O</p><p>gcse-las<span style="white-space:pre">	</span>X<span style="white-space:pre">	</span>O<span style="white-space:pre">	</span>O<span style="white-space:pre">	</span>O</p><p>expensive-optimizations<span style="white-space:pre">	</span>X<span style="white-space:pre">	</span>O<span style="white-space:pre">	</span>O<span style="white-space:pre">	</span>O</p><p>strength-reduce<span style="white-space:pre">	</span>X<span style="white-space:pre">	</span>O<span style="white-space:pre">	</span>O<span style="white-space:pre">	</span>O</p><p>rerun-cse-after-loop<span style="white-space:pre">	</span>X<span style="white-space:pre">	</span>O<span style="white-space:pre">	</span>O<span style="white-space:pre">	</span>O</p><p>rerun-loop-opt<span style="white-space:pre">	</span>X<span style="white-space:pre">	</span>O<span style="white-space:pre">	</span>O<span style="white-space:pre">	</span>O</p><p>caller-saves<span style="white-space:pre">	</span>X<span style="white-space:pre">	</span>O<span style="white-space:pre">	</span>O<span style="white-space:pre">	</span>O</p><p>force-mem<span style="white-space:pre">	</span>X<span style="white-space:pre">	</span>O<span style="white-space:pre">	</span>O<span style="white-space:pre">	</span>O</p><p>peephole2<span style="white-space:pre">	</span>X<span style="white-space:pre">	</span>O<span style="white-space:pre">	</span>O<span style="white-space:pre">	</span>O</p><p>regmove<span style="white-space:pre">	</span>X<span style="white-space:pre">	</span>O<span style="white-space:pre">	</span>O<span style="white-space:pre">	</span>O</p><p>strict-aliasing<span style="white-space:pre">	</span>X<span style="white-space:pre">	</span>O<span style="white-space:pre">	</span>O<span style="white-space:pre">	</span>O</p><p>delete-null-pointer-checks<span style="white-space:pre">	</span>X<span style="white-space:pre">	</span>O<span style="white-space:pre">	</span>O<span style="white-space:pre">	</span>O</p><p>reorder-blocks<span style="white-space:pre">	</span>X<span style="white-space:pre">	</span>O<span style="white-space:pre">	</span>O<span style="white-space:pre">	</span>O</p><p>reorder-functions<span style="white-space:pre">	</span>X<span style="white-space:pre">	</span>O<span style="white-space:pre">	</span>O<span style="white-space:pre">	</span>O</p><p>unit-at-a-time<span style="white-space:pre">	</span>X<span style="white-space:pre">	</span>O<span style="white-space:pre">	</span>?<span style="white-space:pre">	</span>O</p><p>schedule-insns<span style="white-space:pre">	</span>X<span style="white-space:pre">	</span>O<span style="white-space:pre">	</span>O<span style="white-space:pre">	</span>O</p><p>schedule-insns2<span style="white-space:pre">	</span>X<span style="white-space:pre">	</span>X<span style="white-space:pre">	</span>X<span style="white-space:pre">	</span>O</p><p>schedule-interblock<span style="white-space:pre">	</span>X<span style="white-space:pre">	</span>O<span style="white-space:pre">	</span>?<span style="white-space:pre">	</span>O</p><p>sched-spec<span style="white-space:pre">	</span>X<span style="white-space:pre">	</span>O<span style="white-space:pre">	</span>?<span style="white-space:pre">	</span>O</p><p>inline-functions<span style="white-space:pre">	</span>X<span style="white-space:pre">	</span>X<span style="white-space:pre">	</span>X<span style="white-space:pre">	</span>O</p><p>rename-registers<span style="white-space:pre">	</span>X<span style="white-space:pre">	</span>X<span style="white-space:pre">	</span>X<span style="white-space:pre">	</span>O</p><p>web<span style="white-space:pre">	</span>X<span style="white-space:pre">	</span>X<span style="white-space:pre">	</span>X<span style="white-space:pre">	</span>O</p><p>unswitch-loops<span style="white-space:pre">	</span>X<span style="white-space:pre">	</span>X<span style="white-space:pre">	</span>?<span style="white-space:pre">	</span>O</p><hr style="display:block; border: black 0 none; border-top: black 1px solid; height: 1px"><p></p><p>'-On' (n=1, 2, 3) 꼴의 옵션과 더불어 위 표의 왼편 옵션을 섞어 쓸 수도 있습니다. 예를 들어, 위 표에 따르면 '-O2'를 쓸 경우, 'inline-function' 최적화는 적용되지 않습니다. 따라서 다음과 같이 '-O2'에 해당하는 모든 최적화 기법들과 '-inline-functions'을 함께 쓸 수 있습니다:</p><p><br></p><p>$ gcc -O2 -finline-funtions hello.c</p><p><br></p><hr style="display:block; border: black 0 none; border-top: black 1px solid; height: 1px"><p><br></p><p>물론, 특정 옵션 기능을 빼는 것도 가능합니다. 아래는 '-O3'가 제공하는 모든 최적화 기법을 적용하지만 'inline-functions' 최적화만 빼고 컴파일하는 것을 보여줍니다.</p><p><br></p><p>$ gcc -O3 -fno-inline-functions hello.c</p><p><br></p><p>즉, 위 표의 왼편 부분의 옵션을 적용시키려면(on) "-f옵션이름"을 쓰고, 끄려면(off), "-fno-옵션이름" 꼴을 씁니다.</p>
                        </div>
                        <br/>
                        <div class="tags">
                            
                        </div>
                    </div>
                    
                </div>
            </div>
        </main>
    </div>
</div>
</body>
</html>

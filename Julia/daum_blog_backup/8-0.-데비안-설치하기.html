
<meta charset="utf-8">
<html lang="ko">
<head>
    <link rel="stylesheet" type="text/css" href="./../style.css" />
    <title>0. 데비안 설치하기</title>
</head>
<body id="tt-body-page" class="">
<div id="wrap" class="wrap-right">
    <div id="container">
        <main class="main ">
            <div class="area-main">
                <div class="area-view">
                    <div class="article-header">
                        <div class="inner-article-header">
                            <div class="box-meta">
                                <h2 class="title-article">0. 데비안 설치하기</h2>
                                <div class="box-info">
                                    <p class="category">리눅스/데비안 서버 구축</p>
                                    <p class="date">2016-09-25 19:40:48</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <hr>
                    <div class="article-view">
                        <div class="contents_style">
                            <p data-ke-size="size16"><s><span style="font-size: 11pt;">리눅스는 희한하게도 아직 USB 설치가 잘 안된다. 실제로는 잘 되는데 데비안만 이상하게 안되는 것일 수도 있다.</span><br /><br /><span style="font-size: 11pt;">하여튼 연구실 컴퓨터로 설치하는데 usb는 메인보드가 오래되서 그런지 뭔지 인식이 잘 안되더라. 공cd를 구워서 설치했다.</span></s></p>
<p data-ke-size="size16"><s><br /></s>데비안 버전 8.6 이상으로는 USB 설치도 잘 된다. 그런데 예기치 못한 에러가 가끔 나는 듯.<br />잘된다면 usb 로 설치하지만, 웬만해서는 데비안은 cd 로 설치하도록 하자..</p>
<p data-ke-size="size16"><br /><span style="font-size: 11pt;">절대로 GUI 버전을 설치하지 않도록 한다. 리눅스는 명령어로 다루는 것이 가장 좋다. 리눅스의 GUI 버전은 업데이트가 늦고,</span><br /><br /><span style="font-size: 11pt;">안정화 되어 있지 않아 개발 소프트웨어가 충돌이 매우 심각하게 많이 일어난다. 그리고 속도가 매우 느리다.</span><br /><br /><span style="font-size: 11pt;">데비안은 oldstable, stable, testing, unstable 세 가지 버전으로 다운 받을 수 있다. 물론 stable 이 제일 좋다.</span></p>
<p data-ke-size="size16">&nbsp;</p>
<p data-ke-size="size16"><span style="font-size: 14.6667px;">하지만 stable 은 업데이트가 느려서 최신 기능을 잘 지원하지 않는다.</span></p>
<p data-ke-size="size16"><span style="font-size: 14.6667px;">&nbsp;</span></p>
<p data-ke-size="size16"><span style="font-size: 11pt;">oldstable 은 더이상의 업뎃이 이루어지지 않는 버전이다. 어찌보면 제일 안정성이 높은 버전인 셈이다. 대신</span></p>
<p data-ke-size="size16"><span style="font-size: 11pt;">&nbsp;</span></p>
<p data-ke-size="size16"><span style="font-size: 11pt;">최신 기술 지원이 안되기 때문에 가장 최신의 하드웨어들은 인식이 안될 수도 있다.</span></p>
<p data-ke-size="size16"><span style="font-size: 14.6667px;"><br /></span><span style="font-size: 14.6667px;">최신 메인보드와 cpu 를 쓰려면 testing 을 쓰는 것도 좋다.<br /></span></p>
<p data-ke-size="size16"><br /><span style="font-size: 11pt;">윈도우 설치하듯이 데비안을 설치하면 된다.</span></p>
<p data-ke-size="size16"><span style="font-size: 11pt;">&nbsp;</span></p>
<p data-ke-size="size16"><span style="font-size: 11pt;">나노광학연구실에서 관리하는 서버는 총 4대 이다.</span></p>
<p data-ke-size="size16"><span style="font-size: 11pt;">&nbsp;</span></p>
<p data-ke-size="size16"><span style="font-size: 11pt;">yboot, yhome1, yhome2, yhome3</span></p>
<p data-ke-size="size16"><span style="font-size: 11pt;">&nbsp;</span></p>
<p data-ke-size="size16"><span style="font-size: 14.6667px;">각각의 서버에 모두 리눅스를 설치해주도록 하자. 모두 같은 버전을 설치하는 것이 서버를 관리하는데 훨씬 간편하고 안정적이다.</span></p>
<p data-ke-size="size16">&nbsp;</p>
<p data-ke-size="size16"><span style="font-size: 11pt;"><b>0. 설치 파일 준비 및 usb 굽기</b></span></p>
<p data-ke-size="size16">&nbsp;</p>
<p style="margin-left: 2em;" data-ke-size="size16"><span style="font-size: 11pt;"><s>설치 파일은 데비안 공식 홈페이지에서 받는다. Full installation 버전은 10 GB가 넘어가므로 쓰지 말고, 600MB 정도의&nbsp;버전을 받자. netinst 는 설치과정에서 인터넷으로 필수패키지를 받아서 설치하는 방식이다. 250 MB 정도의 작은 크기를 가지고 있지만 설치과정이 매우 느리므로 기본적인 패키지들이 다 같이 딸려있는 600~600MB 정도의 설치 파일을 다운 받으면 된다.</s></span></p>
<p style="margin-left: 2em;" data-ke-size="size16">&nbsp;</p>
<p style="margin-left: 2em;" data-ke-size="size16">17.07.25 수정</p>
<p style="margin-left: 2em;" data-ke-size="size16">netinst 버전을 받아도 잘 설치된다. 대신 설치과정에서 mirror 사이트로부터 다운 받는 과정이 자동으로 실행되는데, &lt;Go back&gt; 을 선택한 후 mirror 사이트 없이 설치하도록 &lt;YES&gt; 를 선택하면 최소한의 데비안만 설치가 된다. 즉 이게 제일 좋은 방식이다.</p>
<p style="margin-left: 2em;" data-ke-size="size16"><span style="font-size: 11pt;">&nbsp;</span></p>
<p style="margin-left: 2em;" data-ke-size="size16"><span style="font-size: 11pt;">그리고 rufus 를 이용하여 usb 를 구우면 되는데, 이때 중요한 것이 반드시 gpt 방식으로 UEFI 방식을 선택해야 한다는 것이다. 혹은 mbr 방식과 gpt 방식 둘 다 가능한 형식으로 iso 이미지를 구워야 한다. 그래야지만 2TB 이상의 하드를 인식하고 설치할 수 있다. 2TB 이상의 하드는 gpt 방식의 label을 가지고 있고, 2TB 이하는 MBR 방식을 가지고 있다.</span></p>
<p data-ke-size="size16">&nbsp;</p>
<p data-ke-size="size16"><span style="font-size: 11pt;"><b>1. 설치할 하드 및 ssd 정하기</b></span></p>
<p data-ke-size="size16"><span style="font-size: 11pt;"><b>&nbsp;</b></span></p>
<p style="margin-left: 2em;" data-ke-size="size16"><span style="font-size: 11pt;"><b></b>하드와 메인보드의 호환 가능성을 봐야한다. BIOS 메인보드는 MBR 방식의 하드(2TB 이하)를, UEFI+BIOS 메인보드는 MBR 과 GPT 모두 인식할 수 있다. 하지만 내 리눅스 설치 이미지가 GPT 방식으로 구운 것이라면 반드시 하드의 레이블을 GPT로 정해야한다.<br /></span></p>
<p style="margin-left: 2em;" data-ke-size="size16">&nbsp;</p>
<p data-ke-size="size16"><b>2. 언어 설정</b></p>
<p data-ke-size="size16">&nbsp;</p>
<p style="margin-left: 2em;" data-ke-size="size16"><span style="font-size: 11pt;">당연히 english 를 선택한다.</span></p>
<p style="margin-left: 2em;" data-ke-size="size16">&nbsp;</p>
<p data-ke-size="size16"><span style="font-size: 11pt;"><b>3. 지역 설정</b></span></p>
<p data-ke-size="size16">&nbsp;</p>
<p style="margin-left: 2em;" data-ke-size="size16"><span style="font-size: 11pt;">한국이므로 Asia 에서 남한을 찾아서 선택. 한국을 선택해야 한국에 맞는 달력과 시간, 미러 사이트를 정해준다. 물론 미러 사이트는&nbsp;</span><span style="font-size: 11pt;">수정하여 미국으로 바꿔줄 것이다.</span></p>
<p style="margin-left: 2em;" data-ke-size="size16"><span style="font-size: 9pt;">&nbsp;</span></p>
<p style="margin-left: 2em;" data-ke-size="size16"><span style="font-size: 11pt;">*미러사이트?</span></p>
<p style="margin-left: 2em;" data-ke-size="size16"><span style="font-size: 11pt;">데비안 설치 파일은 용량이 매우 작다. 약 250 MB 인데, 실제로 리눅스가 이 것만으로 다 되는 것이 아니고 필수 설치파일의 크기일뿐,</span></p>
<p style="margin-left: 2em;" data-ke-size="size16"><span style="font-size: 11pt;">중요 애플리케이션은 설치 과정에서 인터넷을 통해 받아온다. 그 인터넷 사이트를 미러 사이트라고 한다.</span></p>
<p style="margin-left: 2em;" data-ke-size="size16"><span style="font-size: 9pt;"><b>&nbsp;</b></span></p>
<p data-ke-size="size16"><span style="font-size: 11pt;"><b>4. locale 설정</b></span></p>
<p data-ke-size="size16">&nbsp;</p>
<p style="margin-left: 2em;" data-ke-size="size16"><span style="font-size: 11pt;">당연히 미국으로 설정한다. 이는 언어 설정에 영향을 미친다.</span></p>
<p style="margin-left: 2em;" data-ke-size="size16">&nbsp;</p>
<p data-ke-size="size16"><span style="font-size: 11pt;"><b>5. keymap 설정</b></span></p>
<p data-ke-size="size16">&nbsp;</p>
<p style="margin-left: 2em;" data-ke-size="size16"><span style="font-size: 11pt;">당연히 영어! 데비안은 공식적으로는 한글을 지원하지 않는다. 그리고 다른 언어로 했다가 오류날 상황이 많으니 무조건 영어로 하자.</span></p>
<p style="margin-left: 2em;" data-ke-size="size16">&nbsp;</p>
<p data-ke-size="size16"><b><span style="font-size: 11pt;">6</span><span style="font-size: 11pt;">. 랜 설정</span></b></p>
<p data-ke-size="size16">&nbsp;</p>
<p style="margin-left: 2em;" data-ke-size="size16"><span style="font-size: 11pt;">Primary LAN card 를 지정해주어야 한다. 메인보드에 내장된&nbsp;랜카드 이외에&nbsp;</span></p>
<p style="margin-left: 2em;" data-ke-size="size16"><span style="font-size: 11pt;">추가적으로 랜카드를 따로 pci 포트에 꽂았다면, 설치과정에서 랜카드를 두 개 잡아줄 것이다.</span></p>
<p style="margin-left: 2em;" data-ke-size="size16"><br /><span style="font-size: 11pt;">둘 다 인식이 되었으면 이 과정에서 두 가지의 랜카드가 보일 것이다.&nbsp;</span></p>
<p style="margin-left: 2em;" data-ke-size="size16"><span style="font-size: 11pt;">하나는 메인보드의 랜카드, 다른 하나는 추가된 랜카드이다.</span><br /><br /><span style="font-size: 11pt;">eth0나 하여간에 제일 독특해보이는 놈으로 고른다. 보통 메인보드의 랜카드가 eth0 이다. 그게 이제 인터넷과 연결된 랜카드가 될 것이다.</span><span style="font-size: 11pt;">&nbsp;</span><br /><br /><span style="font-size: 11pt;">다른 랜카드는 서버 내부 네트워크에 연결될 랜카드이다.</span><br /><br /><span style="font-size: 11pt;">공유기에 연결되어 있지 않으므로 자동으로 dhcp서버 탐색시켜봐야 소용없다. 유선랜이 연결된 랜카드를 잡은 다음 ip 설정을 해줘야 한다.</span><br /><br /><span style="font-size: 11pt;">enter manually를 선택하여 학교에서 받은 고정 ip를 입력한다. name-server 에는 dns nameserver 를 입력하면 된다.</span></p>
<p style="margin-left: 2em;" data-ke-size="size16"><b>&nbsp;</b></p>
<p data-ke-size="size16"><span style="font-size: 11pt;"><b>7. hostname 과 domain 설정</b></span></p>
<p style="margin-left: 2em;" data-ke-size="size16"><span style="font-size: 14.6667px;">&nbsp;</span></p>
<p data-ke-size="size16"><span style="font-size: 14.6667px;">hostname 과 domain 을 설정해주어야 한다.&nbsp;</span><span style="font-size: 14.6667px;">hostname 은 이 컴퓨터의 이름이고 domain 은 인터넷 주소 부분이다.&nbsp;</span><span style="font-size: 14.6667px;">예를 들어 hostname이 yhome1 이고 domain 이 korea.ac.kr 이라면 인터넷주소가&nbsp;</span></p>
<p style="margin-left: 2em;" data-ke-size="size16"><span style="font-size: 14.6667px;">yhome1.korea.ac.kr 이 된다. domain 은 필요 없으므로 공백으로 남기고 넘긴다.</span></p>
<p data-ke-size="size16"><span style="font-size: 11pt;"><b>&nbsp;</b></span></p>
<p data-ke-size="size16"><b>8. 파티션 설정</b><span style="font-size: 11pt;"><b><br /></b></span></p>
<p data-ke-size="size16">&nbsp;</p>
<p style="margin-left: 2em;" data-ke-size="size16"><span style="font-size: 11pt;">반드시 manual 로 선택해주기 바란다. 그래야 관리하기 편하다.</span></p>
<p style="margin-left: 2em;" data-ke-size="size16"><span style="font-size: 11pt;">&nbsp;</span></p>
<p style="margin-left: 2em;" data-ke-size="size16"><span style="font-size: 11pt;">2 TB 이상의 하드는 설치과정에서 primary 파티션 인지 logical 파티션 인지 설정해주지도 못한다.</span></p>
<p style="margin-left: 2em;" data-ke-size="size16"><span style="font-size: 11pt;">&nbsp;</span></p>
<p data-ke-size="size16"><span style="font-size: 14.6667px;">왜냐, 주파티션/논리파티션은 MBR 방식에 존재하는 개념이고, GPT 방식에는 없다.</span><span style="font-size: 14.6667px;"><br /></span><span style="font-size: 14.6667px;">bios 기반 디스크의 파티션 필수 구성 : 주파티션,논리파티션, swap area.&nbsp;</span><span style="font-size: 14.6667px;"><br /></span><span style="font-size: 14.6667px;">UEFI 기반 디스크의 파티션 필수 구성 : EFI&nbsp;시스템파티션, 주파티션, swap area</span><span style="font-size: 14.6667px;"><br /></span><span style="font-size: 14.6667px;">부팅 파티션에 대한 설명을 곁들이자면 Boot flag 가 설치되는 영역은 두 방식이 각각 다르다.</span></p>
<p style="margin-left: 2em;" data-ke-size="size16">&nbsp;</p>
<p data-ke-size="size16"><span style="font-size: 14.6667px;">reserved bios boot area : bios 방식으로 설치할 때 필요한 부트영역</span><span style="font-size: 14.6667px;">EFI area : gpt 방식으로 설치할 때 필요한 부트영역</span></p>
<p style="margin-left: 2em;" data-ke-size="size16">&nbsp;</p>
<p style="margin-left: 2em;" data-ke-size="size16"><span style="font-size: 11pt;">즉 지금 설치하는 하드의 용량에 따라 설치 방식이 BIOS 냐 UEFI 냐로 나뉘고,</span></p>
<p style="margin-left: 2em;" data-ke-size="size16"><span style="font-size: 11pt;">파티션을 나누는 방법도 달라진다.</span></p>
<p style="margin-left: 2em;" data-ke-size="size16">&nbsp;</p>
<p style="margin-left: 2em;" data-ke-size="size16"><span style="font-size: 11pt;">Bios방식으로 데비안을 설치할 때 필요한 파티션은 딱 두 개다. ex4 file system 과 swap area 만 있으면 된다. swap area 는 메모리의 용량이 부족할 때&nbsp;</span><span style="font-size: 11pt;">하드의 일정 용량을 마치 메모리처럼 쓸 수 있도록 설정한 영역이다. 요즘 같이 메모리 양이 많아진 상황에는 잘 쓰지 않지만, 옛날에는&nbsp;</span><span style="font-size: 11pt;">많이 쓰는 기능이었다. 관습적으로 총 메모리 용량의 두배를 잡아주는데, 요즘은 그 마저도 필요없다. 그래서 설정해주지 않아도 설치가 된다고 하니 해보자.</span></p>
<p style="margin-left: 2em;" data-ke-size="size16">&nbsp;</p>
<hr contenteditable="false" data-ke-type="horizontalRule" data-ke-style="style5" />
<p style="margin-left: 2em;" data-ke-size="size16">17.07.21</p>
<p style="margin-left: 2em;" data-ke-size="size16">데비안 jessie 최종 버전 이후로 부트섹터를 따로 지정해줄 필요가 없게된 듯하다. 파티션 설정도 그냥 guided partitioning 을 선택하면</p>
<p style="margin-left: 2em;" data-ke-size="size16">알아서 잘 배분해준다. 256 GB ssd 에 리눅스를 설치할 것이라면 굳이 manual partitioning 을 해주지 않아도 될 듯.&nbsp;</p>
<hr contenteditable="false" data-ke-type="horizontalRule" data-ke-style="style5" />
<p style="margin-left: 2em;" data-ke-size="size16">&nbsp;</p>
<p data-ke-size="size16">&nbsp;</p>
<p data-ke-size="size16"><span style="font-size: 11pt;"><b>9. ROOT 계정 및 사용자 계정 추가</b></span></p>
<p data-ke-size="size16"><span style="font-size: 14.6667px;">root password 를 설정하고나면 사용자 계정을 만들 수 있는데 일단 하지 않고 그냥 넘어간다.</span><span style="font-size: 14.6667px;"><br /></span></p>
<p data-ke-size="size16"><span style="font-size: 11pt;"><b>10. 미러 사이트 지역 설정</b></span></p>
<p data-ke-size="size16"><span style="font-size: 11pt;">&nbsp;</span></p>
<p style="margin-left: 2em;" data-ke-size="size16"><span style="font-size: 11pt;">어느 지역의 미러 사이트를 이용할지 정한다.</span></p>
<p style="margin-left: 2em;" data-ke-size="size16"><span style="font-size: 11pt;">&nbsp;</span></p>
<p style="margin-left: 2em;" data-ke-size="size16"><span style="font-size: 11pt;">&nbsp;제일 믿을만하고 안정적인 곳은 바로 데비안 미국 사이트겠지. 거기로한다.</span></p>
<p style="margin-left: 2em;" data-ke-size="size16">&nbsp;</p>
<p data-ke-size="size16"><b><span style="font-size: 11pt;">10. 필수 애플리케이션 다운 및 설치</span></b></p>
<p data-ke-size="size16"><b>&nbsp;</b></p>
<p data-ke-size="size16"><b><span style="font-size: 11pt;">11. survey 참여?</span></b></p>
<p style="margin-left: 2em;" data-ke-size="size16">&nbsp;</p>
<p style="margin-left: 2em;" data-ke-size="size16">이거 하면 설치과정 느려지고 몇 가지 애플리케이션이 추가 된다. 하지말자.</p>
<p style="margin-left: 2em;" data-ke-size="size16">&nbsp;</p>
<p data-ke-size="size16"><span style="font-size: 11pt;"><b>12. 소프트웨어 선택</b></span></p>
<p data-ke-size="size16">&nbsp;</p>
<p style="margin-left: 2em;" data-ke-size="size16">필수적이지 않지만 있으면 편리한 소프트웨어를 선택하여 설치하는 과정이다.</p>
<p style="margin-left: 2em;" data-ke-size="size16">&nbsp;</p>
<p style="margin-left: 2em;" data-ke-size="size16">standard system utilities</p>
<p style="margin-left: 2em;" data-ke-size="size16">&nbsp;</p>
<p style="margin-left: 2em;" data-ke-size="size16">이 것만 설치하자. 다른 것들은 필요도 없고 설치 시간이 배로 더 걸린다. 나중에 aptitude 로 따로 다운 받는 것이 더 빠르다.</p>
<p style="margin-left: 2em;" data-ke-size="size16">&nbsp;</p>
<p data-ke-size="size16"><span style="font-size: 11pt;"><b>13. Grub installer</b></span></p>
<p data-ke-size="size16">&nbsp;</p>
<p style="margin-left: 2em;" data-ke-size="size16">하드에 grub을 설치할 것이냐고 묻는다. 당연히 MBR 에 설치되어야, 부팅이 제대로 될 것이다. 운영체제가 설치된 파티션을 선택하자.</p>
<p style="margin-left: 2em;" data-ke-size="size16">&nbsp;</p>
<p style="margin-left: 2em;" data-ke-size="size16">주파티션의 앞부분, boot sector에 grub이 기록됨과 동시에 MBR에도 기록될 것이다.</p>
<p data-ke-size="size16">&nbsp;</p>
                        </div>
                        <br/>
                        <div class="tags">
                            
                        </div>
                    </div>
                    
                </div>
            </div>
        </main>
    </div>
</div>
</body>
</html>
